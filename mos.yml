author: mongoose-os
description: A Mongoose OS app skeleton
version: 1.0

libs_version: ${mos.version}
modules_version: ${mos.version}
mongoose_os_version: ${mos.version}

# Optional. List of tags for online search.
tags:
  - c

# List of files / directories with C sources. No slashes at the end of dir names.
sources:
  - src

# List of dirs. Files from these dirs will be copied to the device filesystem
filesystem:
  - fs

includes:
  - include

build_vars:
  ESP_IDF_EXTRA_COMPONENTS: bt
  ESP_IDF_SDKCONFIG_OPTS:
    ${build_vars.ESP_IDF_SDKCONFIG_OPTS}
    CONFIG_BT_ENABLED=y
    CONFIG_BTDM_CONTROLLER_MODE_BTDM=y
    CONFIG_BTDM_CONTROLLER_BR_EDR_MAX_ACL_CONN=2
    CONFIG_BTDM_CONTROLLER_BR_EDR_MAX_SYNC_CONN=0
    CONFIG_BTDM_CONTROLLER_BR_EDR_SCO_DATA_PATH_PCM=y
    CONFIG_BTDM_CONTROLLER_BR_EDR_SCO_DATA_PATH_EFF=1
    CONFIG_BTDM_CONTROLLER_BLE_MAX_CONN_EFF=3
    CONFIG_BTDM_CONTROLLER_BR_EDR_MAX_ACL_CONN_EFF=2
    CONFIG_BTDM_CONTROLLER_BR_EDR_MAX_SYNC_CONN_EFF=0
    CONFIG_BTDM_CONTROLLER_PINNED_TO_CORE_0=y
    CONFIG_BTDM_CONTROLLER_PINNED_TO_CORE=0
    CONFIG_BTDM_CONTROLLER_HCI_MODE_VHCI=y
    CONFIG_BTDM_CONTROLLER_MODEM_SLEEP=y
    CONFIG_BTDM_MODEM_SLEEP_MODE_ORIG=y
    CONFIG_BTDM_LPCLK_SEL_MAIN_XTAL=y
    CONFIG_SCAN_DUPLICATE_BY_DEVICE_ADDR=y
    CONFIG_SCAN_DUPLICATE_TYPE=0
    CONFIG_DUPLICATE_SCAN_CACHE_SIZE=20
    CONFIG_BLUEDROID_ENABLED=y
    CONFIG_BLUEDROID_PINNED_TO_CORE_0=y
    CONFIG_BLUEDROID_PINNED_TO_CORE=0
    CONFIG_BTC_TASK_STACK_SIZE=8192
    CONFIG_CLASSIC_BT_ENABLED=y
    CONFIG_BT_SPP_ENABLED=y
    CONFIG_BT_RESERVE_DRAM=0xdb5c

libs:
  - origin: https://github.com/mongoose-os-libs/boards
  - origin: https://github.com/mongoose-os-libs/ca-bundle
  - origin: https://github.com/mongoose-os-libs/rpc-service-config
  - origin: https://github.com/mongoose-os-libs/rpc-service-fs

# Used by the mos tool to catch mos binaries incompatible with this file format
manifest_version: 2017-09-29
